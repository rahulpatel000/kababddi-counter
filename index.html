<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>PKL Kabaddi Counter</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #121212;
  color: white;
  padding: 20px;
}

.container {
  max-width: 1000px;
  margin: auto;
  background: #1e1e1e;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 0 15px #000;
}

input {
  width: 90%;
  padding: 8px;
  border-radius: 6px;
  border: none;
  margin-bottom: 10px;
  font-size: 16px;
}

button {
  padding: 10px 15px;
  border: none;
  border-radius: 6px;
  font-size: 16px;
  cursor: pointer;
  margin: 5px;
}

.btn {
  background: #ff9800;
  color: black;
  font-weight: bold;
}

.teamCard {
  display: flex;
  justify-content: space-between;
  background: #000;
  padding: 20px;
  border-radius: 12px;
  margin-bottom: 20px;
}

.teamBlock {
  width: 45%;
  text-align: center;
}

.score {
  font-size: 60px;
  font-weight: bold;
  color: #00eaff;
}

.alive { color: #00ff00; font-weight: bold; }
.out { color: #ff4444; font-weight: bold; }

.player {
  display: flex;
  justify-content: space-between;
  margin: 5px 0;
}
</style>
</head>

<body>
<div class="container">

<h2 style="text-align:center; color:#00eaff;">üèÜ PKL Kabaddi Score System</h2>

<!-- MATCH TIMER -->
<h3>Match Time:
  <input id="matchInput" type="number" value="20" style="width:70px;"> Minutes
</h3>

<h2 id="matchTime">20:00</h2>

<button class="btn" onclick="startMatch()">Start</button>
<button class="btn" onclick="pauseMatch()">Pause</button>
<button class="btn" onclick="resetMatch()">Reset</button>

<hr style="border-color:#444">

<!-- RAID TIMER -->
<h3>Raid Time</h3>
<h2 id="raidTime">30</h2>

<button class="btn" onclick="startRaid()">Start Raid</button>
<button class="btn" onclick="resetRaid()">Reset Raid</button>

<hr style="border-color:#444">

<!-- MAIN SCOREBOARD -->
<div class="teamCard">

  <!-- TEAM A -->
  <div class="teamBlock">
    <input id="teamAName" value="TEAM A" onchange="updateNames()">
    <div class="score" id="scoreA">0</div>
    <p>Alive: <span id="aliveA">7</span> | Out: <span id="outA">0</span></p>
  </div>

  <div style="font-size:40px; margin-top:40px;">VS</div>

  <!-- TEAM B -->
  <div class="teamBlock">
    <input id="teamBName" value="TEAM B" onchange="updateNames()">
    <div class="score" id="scoreB">0</div>
    <p>Alive: <span id="aliveB">7</span> | Out: <span id="outB">0</span></p>
  </div>

</div>

<!-- PLAYERS LIST -->
<div style="display:flex; justify-content:space-between;">

  <!-- TEAM A PLAYERS -->
  <div style="width:48%;">
    <h3>Team A Players</h3>
    <div id="playersA"></div>
    <button class="btn" onclick="addPoint('A')">+1 Point</button>
  </div>

  <!-- TEAM B PLAYERS -->
  <div style="width:48%;">
    <h3>Team B Players</h3>
    <div id="playersB"></div>
    <button class="btn" onclick="addPoint('B')">+1 Point</button>
  </div>

</div>

</div>

<script>
// ---------------------------
// PLAYER DATA
// ---------------------------
const teamA = Array(7).fill().map((_,i)=>({name:`A Player ${i+1}`, alive:true}));
const teamB = Array(7).fill().map((_,i)=>({name:`B Player ${i+1}`, alive:true}));

function renderPlayers() {
  const A = document.getElementById("playersA");
  const B = document.getElementById("playersB");
  A.innerHTML = ""; B.innerHTML = "";

  teamA.forEach((p,i)=>{
    A.innerHTML += `
      <div class='player'>
        <input value="${p.name}" onchange="teamA[${i}].name=this.value">
        <span class="${p.alive?'alive':'out'}">${p.alive?'Alive':'Out'}</span>
        <button onclick="toggleStatus('A',${i})">X</button>
      </div>`;
  });

  teamB.forEach((p,i)=>{
    B.innerHTML += `
      <div class='player'>
        <input value="${p.name}" onchange="teamB[${i}].name=this.value">
        <span class="${p.alive?'alive':'out'}">${p.alive?'Alive':'Out'}</span>
        <button onclick="toggleStatus('B',${i})">X</button>
      </div>`;
  });

  updateCounts();
}

function toggleStatus(team,i){
  if(team==='A') teamA[i].alive = !teamA[i].alive;
  else teamB[i].alive = !teamB[i].alive;
  renderPlayers();
}

function updateCounts(){
  let a = teamA.filter(p=>p.alive).length;
  let b = teamB.filter(p=>p.alive).length;
  document.getElementById("aliveA").innerText = a;
  document.getElementById("outA").innerText = 7-a;
  document.getElementById("aliveB").innerText = b;
  document.getElementById("outB").innerText = 7-b;
}

// ---------------------------
// SCORE SYSTEM
// ---------------------------
let scoreA=0, scoreB=0;

function addPoint(team){
  if(team==='A') scoreA++; else scoreB++;
  document.getElementById("scoreA").innerText = scoreA;
  document.getElementById("scoreB").innerText = scoreB;
}

// ---------------------------
// MATCH TIMER
// ---------------------------
let matchSeconds;
let matchInt;

function startMatch() {
  let mins = Number(document.getElementById("matchInput").value);
  if(!matchSeconds) matchSeconds = mins * 60;

  matchInt = setInterval(()=>{
    matchSeconds--;
    updateMatch();
    if(matchSeconds<=0) clearInterval(matchInt);
  },1000);
}

function pauseMatch(){ clearInterval(matchInt); }

function resetMatch(){
  let mins = Number(document.getElementById("matchInput").value);
  matchSeconds = mins * 60;
  updateMatch();
  pauseMatch();
}

function updateMatch(){
  let m = Math.floor(matchSeconds/60);
  let s = matchSeconds%60;
  document.getElementById("matchTime").innerText =
    `${m}:${s<10?'0'+s:s}`;
}

// ---------------------------
// RAID TIMER WITH LOUD SOUND
// ---------------------------
let raid = 30;
let raidInt;

const loudBeep = new Audio("https://actions.google.com/sounds/v1/alarms/beep_short.ogg");
loudBeep.volume = 1.0;

function startRaid(){
  raid = 30;
  clearInterval(raidInt);

  raidInt = setInterval(()=>{
    raid--;
    document.getElementById("raidTime").innerText = raid;

    if(raid<=10 && raid>0){
      loudBeep.currentTime = 0;
      loudBeep.play();
    }

    if(raid<=0) clearInterval(raidInt);
  },1000);
}

function resetRaid(){
  clearInterval(raidInt);
  raid = 30;
  document.getElementById("raidTime").innerText = raid;
}

// ---------------------------
function updateNames(){
  document.getElementById("teamAName").value =
    document.getElementById("teamAName").value.toUpperCase();

  document.getElementById("teamBName").value =
    document.getElementById("teamBName").value.toUpperCase();
}

// RENDER INITIAL PLAYERS
renderPlayers();
</script>

</body>
</html>
