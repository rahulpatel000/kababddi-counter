<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Kabaddi Counter</title>
<style>
body { font-family: Arial; text-align:center; }
.container { max-width:900px; margin:auto; }
.team-box { border:1px solid #333; padding:15px; border-radius:8px; margin:10px; }
input { padding:5px; font-size:16px; width:180px; text-align:center; }
.timer { font-size:40px; margin:20px 0; font-weight:bold; }
.btn { padding:10px 20px; margin:5px; font-size:18px; cursor:pointer; }
.player-list { text-align:left; margin-left:30%; }
</style>
</head>

<body>
<div class="container">

<h2>Kabaddi Match Counter</h2>

<!-- TEAM NAME INPUT -->
Team A: <input id="teamAName" value="Team A"><br><br>
Team B: <input id="teamBName" value="Team B"><br><br>

<!-- MATCH TIME -->
Set Match Time (minutes):
<input type="number" id="matchTimeInput" value="20"><br><br>

<button class="btn" onclick="startMatch()">Start Match</button>

<h2>Main Match Timer</h2>
<div id="matchTimer" class="timer">00:00</div>

<hr>

<h2>Raid Timer (Always 30 sec)</h2>
<div id="raidTimer" class="timer">30</div>
<button class="btn" onclick="startRaid()">Start Raid</button>
<button class="btn" onclick="pauseRaid()">Pause</button>
<button class="btn" onclick="resumeRaid()">Resume</button>

<h3>Last 10 sec voice: PKL-style loud countdown added âœ”</h3>

<hr>

<div class="team-box">
<h2 id="nameA">Team A</h2>
<h3>Score: <span id="scoreA">0</span></h3>
<button class="btn" onclick="addPointA()">+1 Point</button>

<h3>Players Alive: <span id="aliveA">7</span> / 7</h3>
<div class="player-list">
Player Names:<br>
<input id="a1" value="A1"><br>
<input id="a2" value="A2"><br>
<input id="a3" value="A3"><br>
<input id="a4" value="A4"><br>
<input id="a5" value="A5"><br>
<input id="a6" value="A6"><br>
<input id="a7" value="A7"><br>
</div>

<button class="btn" onclick="outPlayerA()">OUT (-1 alive)</button>
<button class="btn" onclick="reviveA()">REVIVE (+1 alive)</button>
</div>

<div class="team-box">
<h2 id="nameB">Team B</h2>
<h3>Score: <span id="scoreB">0</span></h3>
<button class="btn" onclick="addPointB()">+1 Point</button>

<h3>Players Alive: <span id="aliveB">7</span> / 7</h3>
<div class="player-list">
Player Names:<br>
<input id="b1" value="B1"><br>
<input id="b2" value="B2"><br>
<input id="b3" value="B3"><br>
<input id="b4" value="B4"><br>
<input id="b5" value="B5"><br>
<input id="b6" value="B6"><br>
<input id="b7" value="B7"><br>
</div>

<button class="btn" onclick="outPlayerB()">OUT (-1)</button>
<button class="btn" onclick="reviveB()">REVIVE (+1)</button>
</div>

</div>

<script>

// -----------------------------
// TEAM NAMES UPDATE LIVE
// -----------------------------
document.getElementById("teamAName").oninput = () =>
  document.getElementById("nameA").innerText = document.getElementById("teamAName").value;

document.getElementById("teamBName").oninput = () =>
  document.getElementById("nameB").innerText = document.getElementById("teamBName").value;

// -----------------------------
// MATCH TIMER
// -----------------------------
let matchTime = 0;
let matchInterval;

function startMatch() {
    let min = parseInt(document.getElementById("matchTimeInput").value);
    matchTime = min * 60;

    clearInterval(matchInterval);
    matchInterval = setInterval(() => {
        if (matchTime <= 0) { clearInterval(matchInterval); return; }
        matchTime--;
        document.getElementById("matchTimer").innerText =
            `${String(Math.floor(matchTime/60)).padStart(2,'0')}:${String(matchTime%60).padStart(2,'0')}`;
    }, 1000);
}

// -----------------------------
// RAID TIMER (FIXED 30 SEC)
// -----------------------------
let raidTime = 30;
let raidInterval;
let paused = false;

function startRaid() {
    raidTime = 30;
    document.getElementById("raidTimer").innerText = raidTime;
    clearInterval(raidInterval);

    raidInterval = setInterval(() => {
        if (raidTime <= 0) { clearInterval(raidInterval); return; }
        raidTime--;

        // LAST 10 SEC PKL STYLE VOICE
        if (raidTime <= 10 && raidTime > 0) {
            let utter = new SpeechSynthesisUtterance(raidTime);
            utter.volume = 1;
            utter.rate = 1;
            utter.pitch = 1;
            speechSynthesis.speak(utter);
        }

        document.getElementById("raidTimer").innerText = raidTime;
    }, 1000);
}

function pauseRaid() {
    paused = true;
    clearInterval(raidInterval);
}

function resumeRaid() {
    if (!paused) return;
    paused = false;
    startRaid();
}

// -----------------------------
// SCORE SYSTEM
// -----------------------------
let scoreA = 0, scoreB = 0;

function addPointA() {
    scoreA++;
    document.getElementById("scoreA").innerText = scoreA;
}

function addPointB() {
    scoreB++;
    document.getElementById("scoreB").innerText = scoreB;
}

// -----------------------------
// PLAYER MANAGEMENT (7 MAX)
// -----------------------------
let aliveA = 7, aliveB = 7;

function outPlayerA() {
    if (aliveA > 0) aliveA--;
    document.getElementById("aliveA").innerText = aliveA;
}

function reviveA() {
    if (aliveA < 7) aliveA++;
    document.getElementById("aliveA").innerText = aliveA;
}

function outPlayerB() {
    if (aliveB > 0) aliveB--;
    document.getElementById("aliveB").innerText = aliveB;
}

function reviveB() {
    if (aliveB < 7) aliveB++;
    document.getElementById("aliveB").innerText = aliveB;
}

</script>
</body>
</html>
