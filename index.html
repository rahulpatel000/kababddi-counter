<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Kabaddi Match Counter</title>
<style>
    body {
        font-family: Arial;
        background: #f4f4f4;
        text-align: center;
        padding: 20px;
    }
    .team-box {
        background: white;
        padding: 15px;
        margin: 10px auto;
        width: 90%;
        max-width: 400px;
        border-radius: 10px;
        box-shadow: 0px 0px 5px #aaa;
    }
    button {
        padding: 10px 20px;
        margin: 5px;
        font-size: 16px;
    }
</style>
</head>
<body>

<h1>Kabaddi Scoreboard</h1>

<!-- TEAM NAME INPUTS -->
<div>
    <input id="teamAName" value="Team A" style="font-size:20px;">
    <input id="teamBName" value="Team B" style="font-size:20px;">
</div><br>

<!-- TEAM A BOX -->
<div class="team-box">
    <h2 id="showTeamAName">Team A</h2>
    <h1 id="scoreA">0</h1>

    <p>Alive Players: <span id="aliveA">7</span></p>

    <button onclick="addPoint('A',1)">+1 Point</button>
    <button onclick="tackle('A')">Tackle (+1)</button>

    <br><br>
    <button onclick="playerOut('A')">Player Out</button>
    <button onclick="playerIn('A')">Player In</button>
</div>

<!-- TEAM B BOX -->
<div class="team-box">
    <h2 id="showTeamBName">Team B</h2>
    <h1 id="scoreB">0</h1>

    <p>Alive Players: <span id="aliveB">7</span></p>

    <button onclick="addPoint('B',1)">+1 Point</button>
    <button onclick="tackle('B')">Tackle (+1)</button>

    <br><br>
    <button onclick="playerOut('B')">Player Out</button>
    <button onclick="playerIn('B')">Player In</button>
</div>

<!-- TIMER SECTION -->
<h1>Raid Time: <span id="timer">30</span> sec</h1>

<button onclick="startRaid()">Start Raid</button>
<button onclick="pauseRaid()">Pause</button>
<button onclick="resumeRaid()">Resume</button>

<br><br>
<button onclick="halfTime()">Half Time</button>
<button onclick="resetMatch()">Reset Match</button>

<!-- Audio for last 10 seconds -->
<audio id="countdownBeep">
  <source src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg">
</audio>

<script>
let scoreA = 0, scoreB = 0;
let aliveA = 7, aliveB = 7;
let timeLeft = 30;
let timerInterval = null;
let isPaused = false;

// UPDATE TEAM NAME LIVE
document.getElementById('teamAName').oninput = () => {
    document.getElementById('showTeamAName').innerText = teamAName.value;
};
document.getElementById('teamBName').oninput = () => {
    document.getElementById('showTeamBName').innerText = teamBName.value;
};

// ADD POINT
function addPoint(team, points) {
    if (team === 'A') scoreA += points;
    else scoreB += points;
    updateScores();
}
function tackle(team) { addPoint(team, 1); }

// PLAYER OUT / IN
function playerOut(team) {
    if (team === 'A' && aliveA > 0) aliveA--;
    if (team === 'B' && aliveB > 0) aliveB--;
    updateAlive();
}
function playerIn(team) {
    if (team === 'A' && aliveA < 7) aliveA++;
    if (team === 'B' && aliveB < 7) aliveB++;
    updateAlive();
}

function updateScores() {
    document.getElementById("scoreA").innerText = scoreA;
    document.getElementById("scoreB").innerText = scoreB;
}
function updateAlive() {
    document.getElementById("aliveA").innerText = aliveA;
    document.getElementById("aliveB").innerText = aliveB;
}

// RAID TIMER
function startRaid() {
    clearInterval(timerInterval);
    timeLeft = 30;
    isPaused = false;
    document.getElementById("timer").innerText = timeLeft;

    timerInterval = setInterval(() => {
        if (!isPaused) {
            timeLeft--;
            document.getElementById("timer").innerText = timeLeft;

            if (timeLeft <= 10 && timeLeft > 0) {
                document.getElementById("countdownBeep").play();
            }

            if (timeLeft <= 0) {
                clearInterval(timerInterval);
            }
        }
    }, 1000);
}

function pauseRaid() { isPaused = true; }
function resumeRaid() { isPaused = false; }

function halfTime() {
    alert("Half Time Break!");
    pauseRaid();
}

function resetMatch() {
    scoreA = 0;
    scoreB = 0;
    aliveA = 7;
    aliveB = 7;
    timeLeft = 30;
    isPaused = false;
    clearInterval(timerInterval);
    updateScores();
    updateAlive();
    document.getElementById("timer").innerText = 30;
}
</script>

</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Kabaddi Counter Updated</title>
<style>
 body { font-family: Arial, sans-serif; background: #f2f2f2; padding: 20px; }
 .container { max-width: 900px; margin: auto; background: white; padding: 20px; border-radius: 10px; }
 h2 { text-align: center; }
 .team-box { display: flex; justify-content: space-between; }
 .team { width: 45%; padding: 15px; background: #eef; border-radius: 10px; }
 button { padding: 10px 15px; margin: 5px; }
 .alive { color: green; font-weight: bold; }
 .out { color: red; font-weight: bold; }
</style>
</head>
<body>
<div class="container">

<h2>üèÜ PKL Style Kabaddi Scorecard</h2>

<!-- MATCH TIMER -->
<div>
  <h3>Match Time: <span id="matchTime">20:00</span></h3>
  <button onclick="startMatch()">Start</button>
  <button onclick="pauseMatch()">Pause</button>
  <button onclick="resetMatch()">Reset</button>
</div>
<hr>

<!-- RAID TIMER -->
<div>
  <h3>Raid Time: <span id="raidTime">30</span> sec</h3>
  <button onclick="startRaid()">Start Raid</button>
  <button onclick="resetRaid()">Reset Raid</button>
</div>
<hr>

<!-- PKL STYLE SCORECARD -->
<div style="display:flex; justify-content:space-between; align-items:center; padding:20px; background:#111; color:#fff; border-radius:10px; margin-bottom:20px;">
  <div style="text-align:center; width:45%;">
    <input id="teamBName" value="TEAM B" onchange="updateNames()" style="font-size:22px; text-align:center; width:80%; padding:5px; border-radius:6px;" />
    <h1 id="scoreB" style="font-size:60px; margin:0;">0</h1>
    <p>Alive: <span id="aliveA">7</span> | Out: <span id="outA">0</span></p>
  </div>

  <div style="text-align:center; width:10%; font-size:24px;">VS</div>

  <div style="text-align:center; width:45%;">
    <h2>TEAM B</h2>
    <h1 id="scoreB" style="font-size:60px; margin:0;">0</h1>
    <p>Alive: <span id="aliveB">7</span> | Out: <span id="outB">0</span></p>
  </div>
</div>

<!-- PLAYER BLOCKS -->
<div class="team-box">
  <div class="team">
    <h3>Team A Players</h3>
    <div id="playersA"></div>
    <button onclick="addPoint('A')">+1 Point</button>
  </div>

  <div class="team">
    <h3>Team B Players</h3>
    <div id="playersB"></div>
    <button onclick="addPoint('B')">+1 Point</button>
  </div>
</div>

    <button onclick="addPoint('A')">+1 Point</button>
  </div>

  <!-- TEAM B -->
  <div class="team">
    <h3>Team B ‚Äì Score: <span id="scoreB">0</span></h3>
    <h4>Alive: <span id="aliveB">7</span> / Out: <span id="outB">0</span></h4>

    <div id="playersB"></div>

    <button onclick="addPoint('B')">+1 Point</button>
  </div>

</div>

</div>

<script>
// PLAYERS DATA
const teamA = Array(7).fill().map((_, i) => ({ name: `A Player ${i+1}`, alive: true }));
const teamB = Array(7).fill().map((_, i) => ({ name: `B Player ${i+1}`, alive: true }));

function renderPlayers() {
  const A = document.getElementById("playersA");
  const B = document.getElementById("playersB");

  A.innerHTML = "";
  B.innerHTML = "";

  teamA.forEach((p, i) => {
    A.innerHTML += `<p>${p.name} ‚Äî <span class="${p.alive?'alive':'out'}">${p.alive?'Alive':'Out'}</span>
    <button onclick="toggleStatus('A', ${i})">Toggle</button></p>`;
  });

  teamB.forEach((p, i) => {
    B.innerHTML += `<p>${p.name} ‚Äî <span class="${p.alive?'alive':'out'}">${p.alive?'Alive':'Out'}</span>
    <button onclick="toggleStatus('B', ${i})">Toggle</button></p>`;
  });

  updateCounts();
}

function toggleStatus(team, index) {
  if(team === 'A') teamA[index].alive = !teamA[index].alive;
  else teamB[index].alive = !teamB[index].alive;
  renderPlayers();
}

function updateCounts() {
  const aliveA = teamA.filter(p => p.alive).length;
  const aliveB = teamB.filter(p => p.alive).length;

  document.getElementById("aliveA").innerText = aliveA;
  document.getElementById("aliveB").innerText = aliveB;

  document.getElementById("outA").innerText = 7 - aliveA;
  document.getElementById("outB").innerText = 7 - aliveB;
}

// SCORE
let scoreA = 0, scoreB = 0;
function addPoint(team) {
  if(team === 'A') scoreA++;
  else scoreB++;
  document.getElementById("scoreA").innerText = scoreA;
  document.getElementById("scoreB").innerText = scoreB;
}

// MATCH TIMER
let matchSeconds = 20*60; let matchInt;
function startMatch(){ matchInt=setInterval(()=>{ matchSeconds--; updateMatch(); },1000); }
function pauseMatch(){ clearInterval(matchInt); }
function resetMatch(){ matchSeconds=20*60; updateMatch(); }
function updateMatch(){ let m=Math.floor(matchSeconds/60), s=matchSeconds%60;
 document.getElementById('matchTime').innerText = `${m}:${s<10?'0'+s:s}`; }

// RAID TIMER WITH AUDIO COUNTDOWN
let raid = 30;
let raidInt;
const countdownAudio = new Audio('https://actions.google.com/sounds/v1/alarms/beep_short.ogg');

function startRaid(){
  raid = 30;
  clearInterval(raidInt);
  raidInt = setInterval(()=>{
    raid--;
    document.getElementById('raidTime').innerText = raid;

    // Play sound only for last 10 seconds
    if(raid <= 10 && raid > 0){ countdownAudio.play(); }

    if(raid <= 0){ clearInterval(raidInt); }
  },1000);
}

function resetRaid(){
  clearInterval(raidInt);
  raid = 30;
  document.getElementById('raidTime').innerText = raid;
}

renderPlayers();
function updateNames(){
  document.querySelector('#teamAName').value = document.querySelector('#teamAName').value.toUpperCase();
  document.querySelector('#teamBName').value = document.querySelector('#teamBName').value.toUpperCase();
}

</script>

</body>
</html>
