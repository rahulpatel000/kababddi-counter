<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Kabaddi Counter ‚Äì PKL Style</title>

<style>
 body { font-family: Arial, sans-serif; background: #f2f2f2; padding: 20px; }
 .container { max-width: 900px; margin: auto; background: white; padding: 20px; border-radius: 10px; }
 h2 { text-align: center; }
 .team-box { display: flex; justify-content: space-between; margin-top:20px; }
 .team { width: 45%; padding: 15px; background: #eef; border-radius: 10px; }
 button { padding: 10px 15px; margin: 5px; }
 .alive { color: green; font-weight: bold; }
 .out { color: red; font-weight: bold; }
</style>
</head>
<body>
<div class="container">

<h2>üèÜ PKL Style Kabaddi Scorecard</h2>

<!-- MATCH TIMER -->
<div>
  <h3>Match Time: <span id="matchTime">20:00</span></h3>
  <button onclick="startMatch()">Start</button>
  <button onclick="pauseMatch()">Pause</button>
  <button onclick="resetMatch()">Reset</button>
</div>

<hr>

<!-- RAID TIMER -->
<div>
  <h3>Raid Time: <span id="raidTime">30</span> sec</h3>
  <button onclick="startRaid()">Start Raid</button>
  <button onclick="resetRaid()">Reset Raid</button>
</div>

<hr>

<!-- MAIN SCOREBOARD -->
<div style="display:flex; justify-content:space-between; align-items:center; padding:20px; background:#111; color:#fff; border-radius:10px; margin-bottom:20px;">

  <div style="text-align:center; width:45%;">
    <input id="teamAName" value="TEAM A" onchange="updateNames()" style="font-size:22px; text-align:center; width:80%; padding:5px; border-radius:6px;" />
    <h1 id="scoreA" style="font-size:60px; margin:0;">0</h1>
    <p>Alive: <span id="aliveA">7</span> | Out: <span id="outA">0</span></p>
  </div>

  <div style="text-align:center; width:10%; font-size:24px;">VS</div>

  <div style="text-align:center; width:45%;">
    <input id="teamBName" value="TEAM B" onchange="updateNames()" style="font-size:22px; text-align:center; width:80%; padding:5px; border-radius:6px;" />
    <h1 id="scoreB" style="font-size:60px; margin:0;">0</h1>
    <p>Alive: <span id="aliveB">7</span> | Out: <span id="outB">0</span></p>
  </div>

</div>

<!-- PLAYER LISTS -->
<div class="team-box">

  <div class="team">
    <h3>Team A Players</h3>
    <div id="playersA"></div>
    <button onclick="addPoint('A')">+1 Point</button>
  </div>

  <div class="team">
    <h3>Team B Players</h3>
    <div id="playersB"></div>
    <button onclick="addPoint('B')">+1 Point</button>
  </div>

</div>

</div>

<script>
// ----- PLAYER SYSTEM -----
const teamA = Array(7).fill().map((_, i) => ({ name: `A Player ${i+1}`, alive: true }));
const teamB = Array(7).fill().map((_, i) => ({ name: `B Player ${i+1}`, alive: true }));

function renderPlayers() {
  const A = document.getElementById("playersA");
  const B = document.getElementById("playersB");

  A.innerHTML = "";
  B.innerHTML = "";

  teamA.forEach((p, i) => {
    A.innerHTML += `<p>${p.name} ‚Äî <span class="${p.alive?'alive':'out'}">${p.alive?'Alive':'Out'}</span>
    <button onclick="toggleStatus('A', ${i})">Toggle</button></p>`;
  });

  teamB.forEach((p, i) => {
    B.innerHTML += `<p>${p.name} ‚Äî <span class="${p.alive?'alive':'out'}">${p.alive?'Alive':'Out'}</span>
    <button onclick="toggleStatus('B', ${i})">Toggle</button></p>`;
  });

  updateCounts();
}

function toggleStatus(team, index) {
  if(team === 'A') teamA[index].alive = !teamA[index].alive;
  else teamB[index].alive = !teamB[index].alive;
  renderPlayers();
}

function updateCounts() {
  const aliveA = teamA.filter(p => p.alive).length;
  const aliveB = teamB.filter(p => p.alive).length;

  document.getElementById("aliveA").innerText = aliveA;
  document.getElementById("aliveB").innerText = aliveB;

  document.getElementById("outA").innerText = 7 - aliveA;
  document.getElementById("outB").innerText = 7 - aliveB;
}

// ----- SCORE -----
let scoreA = 0, scoreB = 0;

function addPoint(team) {
  if(team === 'A') scoreA++;
  else scoreB++;
  document.getElementById("scoreA").innerText = scoreA;
  document.getElementById("scoreB").innerText = scoreB;
}

// ----- MATCH TIMER -----
let matchSeconds = 20 * 60;
let matchInt;

function startMatch() {
  clearInterval(matchInt);
  matchInt = setInterval(() => { matchSeconds--; updateMatch(); }, 1000);
}

function pauseMatch() { clearInterval(matchInt); }

function resetMatch() {
  matchSeconds = 20 * 60;
  updateMatch();
}

function updateMatch() {
  let m = Math.floor(matchSeconds/60);
  let s = matchSeconds % 60;
  document.getElementById("matchTime").innerText = `${m}:${s<10?'0'+s:s}`;
}

// ----- RAID TIMER -----
let raid = 30;
let raidInt;

const countdownAudio = new Audio('https://actions.google.com/sounds/v1/alarms/beep_short.ogg');

function startRaid(){
  raid = 30;
  clearInterval(raidInt);
  raidInt = setInterval(() => {
    raid--;
    document.getElementById('raidTime').innerText = raid;

    if(raid <= 10 && raid > 0) countdownAudio.play();

    if(raid <= 0) clearInterval(raidInt);

  }, 1000);
}

function resetRaid(){
  clearInterval(raidInt);
  raid = 30;
  document.getElementById('raidTime').innerText = raid;
}

// TEAM NAMES
function updateNames(){
  document.getElementById("teamAName").value = document.getElementById("teamAName").value.toUpperCase();
  document.getElementById("teamBName").value = document.getElementById("teamBName").value.toUpperCase();
}

renderPlayers();
</script>

</body>
</html>

